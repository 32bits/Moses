<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Moses documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Moses</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Requiring_Moses">Requiring Moses</a></li>
<li><a href="#Collection_functions_samples">Collection functions samples</a></li>
<li><a href="#Array_functions">Array functions</a></li>
<li><a href="#Utility_functions">Utility functions</a></li>
<li><a href="#Object_functions">Object functions</a></li>
</ul>


<h2>Topics</h2>
<ul>
  <li><strong>moses.md</strong></li>
</ul>
<h2>Scripts</h2>
<ul>
  <li><a href="../index.html">moses</a></li>
</ul>

</div>

<div id="content">

<h1>Topic <code>moses.md</code></h1>


<h1>Moses: an utility-belt library for Lua</h1>

<p><strong>Moses</strong> is a Lua utility library which provides support for functional programming.
It extends built-in Lua functions, making easier operations on arrays, lists, collections, objects, and a lot more.<br/>
<strong>Moses</strong> was deeply inspired by <a href="http://documentcloud.github.com/underscore/">Underscore.js</a>. </p>

<p><a name="Requiring_Moses"></a></p>
<h2>Requiring Moses</h2>


<pre>
 <span class="comment">-- Minimal code
</span> <span class="keyword">local</span> _ = <span class="global">require</span> (<span class="string">"moses"</span>)
</pre>

<p><a name="Collection_functions_samples"></a></p>
<h2>Collection functions samples</h2>

<h3>each</h3>


<pre>
 <span class="comment">-- prints a flat array contents
</span> _.each({<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>},<span class="global">print</span>)
</pre>

<blockquote>
    <p>1 1 <br/>
    2 2 <br/>
    3 3 <br/></p>
</blockquote>

<pre>

 <span class="comment">-- iterates over non numeric keys
</span> _.each({one = <span class="number">1</span>, two = <span class="number">2</span>, three = <span class="number">3</span>},<span class="global">print</span>)
</pre>

<blockquote>
    <p>"one" 1 <br/>
    "two" 2 <br/>
    "three" 3 <br/></p>
</blockquote>


<pre>
 <span class="comment">-- can reference an outer table or the passed-in table
</span> t = {<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>}
 _.each(t,<span class="keyword">function</span>(i,v)
   t[i] = v:rep(<span class="number">2</span>)
   <span class="global">print</span>(t[i])
 <span class="keyword">end</span>)
</pre>

<blockquote>
    <p>1 "aa" <br/>
    2 "bb" <br/>
    3 "cc" <br/></p>
</blockquote>

<h3>map</h3>


<pre>
 <span class="comment">-- Executes a function on each key-value pairs
</span> <span class="keyword">local</span> v = _.map({<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>},<span class="keyword">function</span>(i,v)
   <span class="keyword">return</span> v+<span class="number">10</span>
 <span class="keyword">end</span>))
 _.each(v,<span class="global">print</span>)
</pre>

<blockquote>
    <p>1 11 <br/>
    2 12 <br/>
    3 13 <br/></p>
</blockquote>


<pre>
 <span class="keyword">local</span> v = _.map({a = <span class="number">1</span>, b = <span class="number">2</span>},<span class="keyword">function</span>(k,v)
   <span class="keyword">return</span> k..v
 <span class="keyword">end</span>
 _.each(v,<span class="global">print</span>)
</pre>

<blockquote>
    <p>"a" "a1" <br/>
    "b" "b1" <br/></p>
</blockquote>

<h3>reduce</h3>


<pre>
 <span class="comment">-- Sums all values
</span> <span class="keyword">local</span> r = _.reduce({<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>},<span class="keyword">function</span>(memo,v)
     <span class="keyword">return</span> memo+v
 <span class="keyword">end</span>)
 <span class="global">print</span>(r)
</pre>

<blockquote>
    <p>10</p>
</blockquote>

<pre>

 <span class="comment">-- Concatenates all values
</span> <span class="keyword">local</span> r = _.reduce({<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>},<span class="keyword">function</span>(memo,v)
     <span class="keyword">return</span> memo..v
 <span class="keyword">end</span>)
 <span class="global">print</span>(r)
</pre>

<blockquote>
    <p>"abcd"</p>
</blockquote>

<h3>reduceRight</h3>


<pre>
 <span class="comment">-- Reduces from right to left
</span> <span class="keyword">local</span> initial_state = <span class="number">256</span>
 <span class="keyword">local</span> r = _.reduceRight({<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">16</span>},<span class="keyword">function</span>(memo,v)
     <span class="keyword">return</span> memo/v
 <span class="keyword">end</span>,initial_state)
 <span class="global">print</span>(r)
</pre>

<blockquote>
    <p>2</p>
</blockquote>

<h3>mapReduce</h3>


<pre>
 <span class="comment">-- reduces while saving intermediate states
</span> <span class="keyword">local</span> v = _.mapReduce({<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>},<span class="keyword">function</span>(memo,v)
    <span class="keyword">return</span> memo..v
 <span class="keyword">end</span>)
 _.each(v,<span class="global">print</span>)
</pre>

<blockquote>
    <p>1 "a"    <br/>
    2 "ab" <br/>
    3 "abc" <br/></p>
</blockquote>

<h3>mapReduceRight</h3>


<pre>
 <span class="comment">-- reduces from right to left, while saving intermediate states
</span> <span class="keyword">local</span> v = _.mapReduceRight({<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>},<span class="keyword">function</span>(memo,v)
    <span class="keyword">return</span> memo..v
 <span class="keyword">end</span>)
 _.each(v,<span class="global">print</span>)
</pre>

<blockquote>
    <p>1 "c"    <br/>
    2 "cb" <br/>
    3 "cba" <br/></p>
</blockquote>

<p><a name="Array_functions"></a></p>
<h2>Array functions</h2>

<p><a name="Utility_functions"></a></p>
<h2>Utility functions</h2>

<p><a name="Object_functions"></a></p>
<h2>Object functions</h2>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
